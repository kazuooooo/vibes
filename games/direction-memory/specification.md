# 方向記憶 – 仕様書

## 概要

「方向記憶」は、プレイヤーが画面に表示される矢印の順番を記憶し、同じ順番で入力するメモリーゲームです。  
集中力と記憶力が求められ、短時間で何度も遊べるシンプルなカジュアルゲームです。

---

## ゲームのルール

1. プレイヤーは、画面に順番に表示される矢印（上、下、左、右）を観察する。
2. 矢印は一定の時間間隔で表示され、各矢印は短時間表示された後消える。
3. すべての矢印の表示が終わったら、プレイヤーの入力ターンになる。
4. プレイヤーは表示された順番と同じ順番で矢印ボタンを押す。
5. 正しい順番で入力できれば次のレベルに進み、矢印の数が増える。
6. 間違った順番で入力するとゲームオーバーになる。
7. 連続で何レベルクリアできるかを競う。

---

## 基本仕様

| 項目 | 内容 |
|------|------|
| タイトル | 方向記憶 |
| プラットフォーム | Web（PC / モバイル対応） |
| 使用技術 | HTML / CSS / JavaScript（Reactなども可） |
| プレイ時間 | 1〜5分（1ゲームあたり） |
| UI構成 | 矢印表示エリア、方向ボタン（4個）、レベル表示、スコア表示、スタート/リトライボタン |
| 難易度調整 | レベルが上がるごとに矢印の表示数が増加（初期値：3個、最大：10個程度） |

---

## レベル・スコア仕様

| レベル | 矢印の数 | スコア |
|--------|----------|--------|
| 1 | 3個 | 100点 |
| 2 | 4個 | 200点 |
| 3 | 5個 | 300点 |
| 4 | 6個 | 400点 |
| 5+ | 7個以上 | レベル × 100点 |

- ゲームオーバー時に合計スコアを表示
- 連続成功によるボーナス（連続クリア数 × 50点）

---

## 画面構成

- **ヘッダー**
  - タイトル表示
  - 現在レベル表示
  - 現在スコア表示
- **メインビュー**
  - 矢印表示エリア（中央の大きな表示部分）
  - 方向ボタン群（上、下、左、右の4つのボタン）
- **コントロール**
  - スタートボタン
  - リトライボタン（ゲームオーバー時）
- **状態表示**
  - 現在の状態（「観察してください」「入力してください」「正解！」「ゲームオーバー」）

---

## ゲームフロー

1. **初期状態**: スタートボタンが表示される
2. **レベル開始**: 「観察してください」メッセージと共に矢印が順番に表示
3. **入力フェーズ**: 「入力してください」メッセージと共に方向ボタンが有効化
4. **判定**: 
   - 正解 → 「正解！」表示 → 次レベルへ
   - 不正解 → 「ゲームオーバー」表示 → リトライボタン表示

---

## 矢印表示仕様

- 表示時間：各矢印800ms
- 間隔：矢印と矢印の間200ms
- 表示方法：矢印アイコン（↑↓←→）またはアニメーション付き矢印
- 色：表示中は青色、消えた後は薄いグレー
- サイズ：大きくて見やすいサイズ（60px以上推奨）

---

## 拡張アイデア（将来的な実装）

- 音声による方向指示（音の高低で方向を表現）
- タイムアタックモード（制限時間内でどこまで進めるか）
- ランキング機能（ローカル or オンライン）
- 難易度選択（矢印表示速度、初期矢印数の調整）
- アニメーション効果の向上

---

## テスト計画（E2E）

- 矢印が正しい順番で表示されるか
- プレイヤーの入力が正しく認識されるか
- 正解・不正解の判定が適切に行われるか
- レベルアップ時にスコアが正しく計算されるか
- ゲームオーバー時にリトライ機能が正常に動作するか
- モバイル端末でタッチ操作が正常に動作するか