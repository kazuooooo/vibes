# つまみ食いチャレンジ – 仕様書

## 概要

「つまみ食いチャレンジ – 親にバレないように食べる」は、プレイヤーが親にバレないよう、適切なタイミングでお菓子をつまみ食いするスリル満点のカジュアルゲームです。  
タイミングと集中力が求められ、緊張感と達成感を味わえるゲームです。

---

## ゲームのルール

1. プレイヤーは画面に表示されるお菓子をクリック/タップして食べる。
2. 親が振り向くタイミングを予測し、親が見ていない時だけお菓子を食べる。
3. 親が振り向いている時に食べようとするとバレてしまい、ゲームオーバーになる。
4. 制限時間内により多くのお菓子を食べることを目指す。
5. お菓子を食べるとスコアが上がり、連続で成功するとボーナスが得られる。
6. 親の振り向きパターンはレベルが上がるごとに複雑になる。

---

## 基本仕様

| 項目 | 内容 |
|------|------|
| タイトル | つまみ食いチャレンジ – 親にバレないように食べる |
| プラットフォーム | Web（PC / モバイル対応） |
| 使用技術 | HTML / CSS / JavaScript（Reactなども可） |
| プレイ時間 | 1〜3分（1ゲームあたり） |
| UI構成 | お菓子エリア、親キャラクター、タイマー、スコア表示、スタート/リトライボタン |
| 難易度調整 | レベルが上がるごとに親の振り向き頻度・パターンが複雑化 |

---

## レベル・スコア仕様

| レベル | 制限時間 | 親の振り向き頻度 | スコア倍率 |
|--------|----------|------------------|------------|
| 1 | 30秒 | 3秒間隔（規則的） | 1.0倍 |
| 2 | 35秒 | 2-4秒間隔（ランダム） | 1.2倍 |
| 3 | 40秒 | 1-3秒間隔（不規則） | 1.5倍 |
| 4+ | 45秒 | 0.5-2秒間隔（超不規則） | レベル × 0.3倍 |

- お菓子1個につき基本10点
- 連続成功ボーナス（連続数 × 5点）
- レベルクリアボーナス（100点）
- 親にバレずに完食ボーナス（200点）

---

## 画面構成

- **ヘッダー**
  - タイトル表示
  - 現在レベル表示
  - 現在スコア表示
  - 残り時間表示
- **メインビュー**
  - 親キャラクター（振り向き状態を表示）
  - お菓子エリア（クリック可能なお菓子アイテム）
  - 状態表示（「チャンス！」「危険！」「バレた！」）
- **コントロール**
  - スタートボタン
  - リトライボタン（ゲームオーバー時）

---

## ゲームフロー

1. **初期状態**: スタートボタンが表示される
2. **ゲーム開始**: カウントダウン後にゲームスタート、親が後ろ向きの状態
3. **つまみ食いフェーズ**: 
   - 親が後ろ向き → 「チャンス！」表示、お菓子クリック可能
   - 親が振り向く直前 → 「危険！」表示（警告）
   - 親が振り向き中 → お菓子クリック不可、クリックするとゲームオーバー
4. **判定**: 
   - 成功 → スコア加算、次のお菓子が出現
   - 失敗（バレる） → 「バレた！」表示、ゲームオーバー
   - 時間切れ → レベルクリア判定

---

## 親キャラクター仕様

- **後ろ向き状態**: 安全、お菓子を食べるチャンス
- **振り向き警告**: 1秒前に「危険！」サインを出す
- **振り向き状態**: 2-3秒間振り向いている、この間にクリックするとアウト
- **振り向きパターン**: レベルに応じて間隔とタイミングが変化
- **アニメーション**: 滑らかな振り向きモーション

---

## お菓子仕様

- **種類**: クッキー、チョコレート、ポテトチップス、キャンディ等（ランダム表示）
- **表示位置**: 画面下部のお菓子エリアにランダム配置
- **クリック判定**: 親が後ろ向きの時のみ有効
- **消費時間**: クリック後0.5秒でお菓子が消える
- **出現パターン**: 1個食べると次のお菓子が出現

---

## 拡張アイデア（将来的な実装）

- 音響効果（親の足音、お菓子を食べる音）
- 複数の親キャラクター（お母さん、お父さん）
- 特殊お菓子（高得点、リスク高）
- アチーブメント機能
- オンラインランキング
- ストーリーモード

---

## テスト計画（E2E）

- 親の振り向きタイミングが正確に実装されているか
- お菓子のクリック可能/不可能状態が適切に制御されるか
- スコア計算が正しく行われるか
- ゲームオーバー条件が適切に判定されるか
- レベルアップ時の難易度調整が正常に動作するか
- モバイル端末でタッチ操作が正常に動作するか
- タイマー機能が正確に動作するか