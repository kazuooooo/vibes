# くしゃみバトル – 仕様書

## 概要

「くしゃみバトル」は、プレイヤーがくしゃみのパワーをタイミングよくチャージして、相手を吹き飛ばすカジュアルゲームです。  
チャージ時間によってくしゃみの威力が変わり、戦略的なタイミングが求められる面白さがあります。

---

## ゲームのルール

1. プレイヤーはくしゃみをチャージするボタンを長押しする
2. チャージ時間に応じてくしゃみの威力（パワー）が上昇する
3. 威力が高いほど相手をより遠くに吹き飛ばすことができる
4. チャージしすぎると「くしゃみ暴発」で威力が下がる
5. 最適なタイミングでボタンを離して、最大威力のくしゃみを放つ
6. 相手との距離を詰めて勝利を目指す

---

## 基本仕様

| 項目 | 内容 |
|------|------|
| タイトル | くしゃみバトル |
| プラットフォーム | Web（PC / モバイル対応） |
| 使用技術 | HTML / CSS / JavaScript |
| プレイ時間 | 30秒〜2分（1ラウンドあたり） |
| UI構成 | チャージゲージ、くしゃみボタン、パワー表示、敵キャラ、距離表示 |
| 操作方法 | ボタン長押し（チャージ）→ボタンリリース（発射） |

---

## チャージシステム

| チャージ時間 | パワーレベル | 威力 | 効果 |
|-------------|-------------|------|------|
| 0.5秒未満 | 弱 | 1 | ちょっと息を吹きかける |
| 0.5〜1.5秒 | 普通 | 2-4 | 普通のくしゃみ |
| 1.5〜2.5秒 | 強 | 5-7 | 強力なくしゃみ |
| 2.5〜3.0秒 | 最強 | 8-10 | 超強力なくしゃみ |
| 3.0秒以上 | 暴発 | 1 | くしゃみが暴発して威力激減 |

---

## ゲーム進行

1. **初期状態**: プレイヤーと敵キャラが一定距離で対峙
2. **チャージフェーズ**: プレイヤーがボタンを長押ししてパワーを溜める
3. **発射フェーズ**: ボタンを離すとくしゃみが発射される
4. **結果判定**: 威力に応じて敵キャラが吹き飛ぶ
5. **勝利条件**: 敵キャラを画面外まで吹き飛ばす

---

## 画面構成

- **ヘッダー**
  - タイトル表示
  - 現在の距離表示
- **メインビュー**
  - プレイヤーキャラクター（左側）
  - 敵キャラクター（右側、移動可能）
  - チャージゲージ（プレイヤー下部）
  - くしゃみボタン（画面下部）
- **結果表示**
  - 威力表示
  - 距離の変化
  - リトライボタン

---

## ビジュアルエフェクト

- **チャージ中**: ゲージが徐々に増加、色が変化
- **くしゃみ発射**: パーティクルエフェクトで風を表現
- **敵キャラ**: 吹き飛ばされるアニメーション
- **暴発**: 失敗を表現する視覚効果

---

## 拡張アイデア（将来的な実装）

- 複数ラウンド制（ベストオブ3など）
- 敵キャラの種類（重さが異なる）
- 環境要素（風向きなど）
- マルチプレイヤー対戦
- パワーアップアイテム

---

## テスト計画（E2E）

- チャージゲージが正しく動作するか
- ボタンの長押し・リリースが正確に検知されるか
- 威力計算が適切に行われるか
- 敵キャラが正しく移動するか
- 勝利条件の判定が正確か
- リトライ時に状態がリセットされるか