# ヅラ飛ばし – 仕様書

## 概要

「ヅラ飛ばし」は、強風で飛ばされたヅラ（かつら）をプレイヤーがキャッチするアクションゲームです。  
上空から様々な方向に飛んでくるヅラを素早くキャッチして、スコアを稼ぐシンプルで楽しいカジュアルゲームです。

---

## ゲームのルール

1. プレイヤーはキャラクターを左右に移動させてヅラをキャッチする。
2. ヅラは画面上部から風に吹かれて落下してくる。
3. ヅラをキャッチするとスコアが加算される。
4. ヅラを取り逃がすとライフが減少する（初期ライフ：3）。
5. ライフが0になるとゲームオーバー。
6. 時間が経つにつれてヅラの落下速度が上がり、難易度が増加。
7. 連続でキャッチするとコンボボーナスが発生。

---

## 基本仕様

| 項目 | 内容 |
|------|------|
| タイトル | ヅラ飛ばし |
| プラットフォーム | Web（PC / モバイル対応） |
| 使用技術 | HTML / CSS / JavaScript |
| プレイ時間 | 1〜3分（1ゲームあたり） |
| UI構成 | ゲームフィールド、プレイヤーキャラクター、スコア表示、ライフ表示、スタート/リトライボタン |
| 操作方法 | キーボード（A/D または 矢印キー）、タッチ（モバイル） |

---

## ゲーム要素仕様

### プレイヤーキャラクター
- 画面下部に配置
- 左右移動のみ（上下移動なし）
- 移動速度：適度な速度で滑らかに移動
- 表示：シンプルなキャラクター（人型アイコンまたは手のアイコン）

### ヅラ（落下オブジェクト）
- 画面上部からランダムな位置で出現
- 落下速度：初期は遅く、時間経過で徐々に加速
- 横風効果：左右に軽く揺れながら落下
- 種類：複数のヅラデザイン（色・形が異なる）
- 出現頻度：1〜3秒間隔でランダム

### スコアシステム
- 基本スコア：ヅラ1個キャッチで10点
- コンボボーナス：連続キャッチ数 × 5点
- スペシャルヅラ：金色のヅラをキャッチで50点

---

## レベル・難易度仕様

| 経過時間 | 落下速度 | 出現頻度 | 備考 |
|----------|----------|----------|------|
| 0-30秒 | 遅い | 2-3秒間隔 | 初心者向け |
| 30-60秒 | 普通 | 1.5-2.5秒間隔 | 標準レベル |
| 60-90秒 | 速い | 1-2秒間隔 | 上級レベル |
| 90秒以降 | 高速 | 0.8-1.5秒間隔 | エキスパート |

- 30秒ごとに難易度が上昇
- スペシャルヅラ（金色）は60秒以降に低確率で出現

---

## 画面構成

- **ヘッダー**
  - タイトル表示
  - 現在スコア表示
  - 残りライフ表示（ハート3個）
- **メインビュー**
  - ゲームフィールド（800x600px推奨）
  - プレイヤーキャラクター
  - 落下するヅラ群
- **コントロール**
  - スタートボタン
  - リトライボタン（ゲームオーバー時）
- **状態表示**
  - 現在の状態（「ゲーム中」「ゲームオーバー」）
  - コンボ数表示

---

## ゲームフロー

1. **初期状態**: スタートボタンが表示される
2. **ゲーム開始**: カウントダウン（3, 2, 1, スタート！）
3. **ゲーム中**: ヅラの落下とキャッチを繰り返す
4. **ゲームオーバー**: ライフ0で終了、最終スコア表示とリトライボタン

---

## 操作仕様

### PC操作
- A キー または 左矢印キー：左移動
- D キー または 右矢印キー：右移動
- スペースキー：ゲーム開始/リトライ

### モバイル操作
- 画面左側タッチ：左移動
- 画面右側タッチ：右移動
- スタート/リトライボタンタップ

---

## グラフィック仕様

### ヅラデザイン
- 基本ヅラ：茶色、黒色、グレー
- スペシャルヅラ：金色（キラキラエフェクト付き）
- サイズ：40x30px程度
- アニメーション：軽い回転や揺れ

### エフェクト
- キャッチ成功時：キラキラエフェクト
- コンボ時：「COMBO x3!」などのテキスト表示
- ライフ減少時：画面が軽く赤くフラッシュ

---

## 音響仕様（将来的な拡張）

- BGM：軽快でコミカルな音楽
- SE：キャッチ音、コンボ音、ゲームオーバー音
- 効果音：風の音（背景音）

---

## テスト計画（E2E）

- プレイヤーの左右移動が正常に動作するか
- ヅラの落下とキャッチ判定が正確に行われるか
- スコア計算とライフシステムが正しく機能するか
- 難易度の段階的な上昇が適切に実装されているか
- ゲームオーバー時のリトライ機能が正常に動作するか
- モバイル端末でタッチ操作が正常に動作するか
- コンボシステムが正しく動作するか